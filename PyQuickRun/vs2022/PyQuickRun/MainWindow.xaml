<Window x:Class="PyQuickRun.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="PyQuickRun - Python Launcher" Height="400" Width="520"
        ResizeMode="NoResize" WindowStartupLocation="CenterScreen">

    <Grid Margin="20">
        <StackPanel>
            <Canvas Height="10"/>

            <TextBlock Text="Interpreter Path (uv or python):" FontWeight="Bold" FontSize="14" Margin="0,0,0,5"/>
            <Grid Margin="0,0,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="80"/>
                </Grid.ColumnDefinitions>
                <TextBox x:Name="TxtPythonPath" Height="26" VerticalContentAlignment="Center" Padding="5,0"/>
                <Button Grid.Column="1" Content="Browse" Margin="10,0,0,0" Click="BtnBrowse_Click"/>
            </Grid>

            <CheckBox x:Name="ChkTerminal" Content="Run in Command Prompt (CMD)" Margin="0,5"/>
            <Grid Margin="0,5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <CheckBox Grid.Column="0" x:Name="ChkCloseOnSuccess" Content="Close window after successful execution"/>
                <TextBlock x:Name="LblResolvedPath" Grid.Column="1" Text="Default: ..." Foreground="Gray" 
                           HorizontalAlignment="Right" TextTrimming="CharacterEllipsis" FontSize="11"/>
            </Grid>

            <Separator Margin="0,15"/>

            <Border x:Name="DropZone" Height="120" BorderBrush="#AAA" BorderThickness="2" CornerRadius="10" 
                    AllowDrop="True" Drop="DropZone_Drop" DragEnter="DropZone_DragEnter" Background="#F9F9F9">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="📄" FontSize="30" HorizontalAlignment="Center" Foreground="Gray"/>
                    <TextBlock Text="Drag &amp; Drop .py file here" FontWeight="Bold" Foreground="#333" 
                               HorizontalAlignment="Center" Margin="0,5,0,0"/>
                    <TextBlock Text="or double-click file in Explorer" Foreground="Gray" FontSize="11" 
                               HorizontalAlignment="Center"/>
                </StackPanel>
            </Border>

            <Canvas Height="15"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock x:Name="TxtStatusIcon" Text="ℹ" Foreground="Blue" FontWeight="Bold" Margin="0,0,5,0"/>

                <ScrollViewer Grid.Column="1" Height="40" VerticalScrollBarVisibility="Auto">
                    <TextBlock x:Name="TxtStatus" Text="Ready to run." TextWrapping="Wrap" FontSize="11"/>
                </ScrollViewer>

                <TextBlock Grid.Column="2" Text="© 2025 DINKIssTyle" Foreground="#999" FontSize="10" VerticalAlignment="Top"/>
            </Grid>
        </StackPanel>

        <Grid x:Name="LoadingOverlay" Visibility="Collapsed" Background="#80FFFFFF">
            <TextBlock Text="Running Script..." HorizontalAlignment="Center" VerticalAlignment="Center" 
                       FontWeight="Bold" FontSize="16" Foreground="Black"/>
        </Grid>
    </Grid>
</Window>